<!DOCTYPE HTML>
<html lang="en-us">
<head>
  <title>Prebid</title>
  <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>
  <script async src="prebid2.37.0.js"></script>
  <script>

    var PREBID_TIMEOUT = 5000;
    var FAILSAFE_TIMEOUT = 5000;

    var adUnits = [
      {
        code: '/124141061/prebid-test-rect-top',
        mediaTypes: {
          banner: {
            sizes: [[300,250]]
          }
        },
        bids: [{
          bidder: 'audienceNetwork',
          params: {
            placementId: '2354122411472512_2484913318393420', //2354122411472512_2454847858066633
            format: '300x250'
          }
        }]
      },
      {
        code: '/124141061/prebid-test-banner-left',
        mediaTypes: {
          banner: {
            sizes: [[320,50]]
          }
        },
        bids: [{
          bidder: 'audienceNetwork',
          params: {
            placementId: '2354122411472512_2484911998393552',
            format: '320x50'
          }
        }]
      }
    ];

    window.googletag = window.googletag || {cmd: []};
    googletag.cmd.push(function() {
      googletag.pubads().disableInitialLoad();
    });

    var pbjs = pbjs || {};
    pbjs.que = pbjs.que || [];

    pbjs.que.push(function() {
      pbjs.bidderSettings = {
		    audienceNetwork: {
          bidCpmAdjustment: function(bidCpm) { //adjust the CPM dynamically
            return 0.30;
          },
          alwaysUseBid: true,
        },
        standard: {
          adserverTargeting: [
            {
              key: "hb_bidder",
              val: function (bidResponse) {
                  console.log('Bid Response Bidder Name: ' + bidResponse.bidderCode);
                  return bidResponse.bidderCode;
              }
            }, {
              key: "hb_adid",
              val: function (bidResponse) {
                  console.log('Bid Response Ad ID: ' + bidResponse.adId);
                  return bidResponse.adId;
              }
            }, {
              key: "hb_pb",
              val: function (bidResponse) {
                  console.log('Bid Response Bid Price: ' + bidResponse.pbMg);
                  return bidResponse.pbMg;
              }
            }
          ]
		    }
	    };
      pbjs.setConfig({
        enableSendAllBids: false
      });
      pbjs.addAdUnits(adUnits);
      pbjs.requestBids({
        bidsBackHandler: initAdserver,
        timeout: PREBID_TIMEOUT
      });
    });

    function initAdserver() {
      if (pbjs.initAdserverSet) return;
      pbjs.initAdserverSet = true;
      googletag.cmd.push(function() {
        pbjs.que.push(function() {
          pbjs.setTargetingForGPTAsync();
          googletag.pubads().refresh();
        });
      });
    }

    // in case PBJS doesn't load
    setTimeout(function() {
      initAdserver();
    }, FAILSAFE_TIMEOUT);

    googletag.cmd.push(function() {
      googletag.defineSlot('/124141061/prebid-test-rect-top', [[300,250]], 'div-1').addService(googletag.pubads());
      googletag.pubads().enableSingleRequest();
      googletag.enableServices();
    });
    googletag.cmd.push(function() {
      googletag.defineSlot('/124141061/prebid-test-banner-left', [[320,50]], 'div-2').addService(googletag.pubads());
      googletag.pubads().enableSingleRequest();
      googletag.enableServices();
    });
  </script>
</head>

<body>
  <h2>Basic Prebid.js Example</h2>
  <h5>Div-1</h5>
  <div id='div-1'>
    <script>
      googletag.cmd.push(function() { googletag.display('div-1'); });
    </script>
  </div>

  <br>

  <h5>Div-2</h5>
  <div id='div-2'>
    <script>
      googletag.cmd.push(function() { googletag.display('div-2'); });
    </script>
  </div>

  <br>

  <h5>Test 1</h5>
  <div style="display:none; position: relative;">
    <script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw60-tag.js" async></script>
    <script type="text/javascript">
      window.ADNW = window.ADNW || {};
      window.ADNW.v60 = window.ADNW.v60 || {};
      window.ADNW.v60.slots = window.ADNW.v60.slots || [];
      window.ADNW.v60.slots.push({
        rootElement: document.currentScript.parentElement,
        placementid: '2354122411472512_2484913318393420',
        format: '300x250',
        bidid: '5121260752437106609',
        bidtimetoken: 'V1_eyJwbGF0Zm9ybV9pZCI6MjA2MTE4NTI0MDc4NTUxNiwib3J0Yl9hdWN0aW9uX2lkIjoiWlU2Tzh3dlJjdXF5UlY0S3dTMkRwdTNqMCIsImJpZF9zb3VyY2UiOjEwLCJjbHVzdGVyX2lkIjoxMjN9',
        testmode: false,
        onAdLoaded: function(element) {
          console.log('Audience Network [2354122411472512_2484913318393420] ad loaded');element.style.display = 'block';
        },
        onAdError: function(errorCode, errorMessage) {
          console.log('Audience Network [2354122411472512_2484913318393420] error (' + errorCode + ') ' + errorMessage);
        }
      });
    </script>
  </div>

  <br>

  <h5>Test 2</h5>
  <div style="display:none; position: relative;">
    <script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw60-tag.js" async></script>
    <script type="text/javascript">
      window.ADNW = window.ADNW || {};
      window.ADNW.v60 = window.ADNW.v60 || {};
      window.ADNW.v60.slots = window.ADNW.v60.slots || [];
      window.ADNW.v60.slots.push({
        rootElement: document.currentScript.parentElement,
        placementid: '2354122411472512_2484913318393420',
        format: '300x250',
        bidid: '6298361458838394801',
        bidtimetoken: 'V1_eyJwbGF0Zm9ybV9pZCI6MjA2MTE4NTI0MDc4NTUxNiwib3J0Yl9hdWN0aW9uX2lkIjoiWlU2Tzh3dlJjdXF5UlY0S3dTMkRwdTNqMCIsImJpZF9zb3VyY2UiOjEwLCJjbHVzdGVyX2lkIjoxMjN9',
        testmode: false,
        onAdLoaded: function(element) {
          console.log('Audience Network [2354122411472512_2484913318393420] ad loaded');element.style.display = 'block';
        },
        onAdError: function(errorCode, errorMessage) {
          console.log('Audience Network [2354122411472512_2484913318393420] error (' + errorCode + ') ' + errorMessage);
        }
      });
    </script>
  </div>

  <br>

  <h5>Test 3</h5>
  <div style="display:none; position: relative;">
    <script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw60-tag.js" async></script>
    <script type="text/javascript">
      window.ADNW = window.ADNW || {};
      window.ADNW.v60 = window.ADNW.v60 || {};
      window.ADNW.v60.slots = window.ADNW.v60.slots || [];
      window.ADNW.v60.slots.push({
        rootElement: document.currentScript.parentElement,
        placementid: '2354122411472512_2484913318393420',
        format: '300x250',
        bidid: '2818399854139660209',
        bidtimetoken: 'V1_eyJwbGF0Zm9ybV9pZCI6MjA2MTE4NTI0MDc4NTUxNiwib3J0Yl9hdWN0aW9uX2lkIjoiWlU2Tzh3dlJjdXF5UlY0S3dTMkRwdTNqMCIsImJpZF9zb3VyY2UiOjEwLCJjbHVzdGVyX2lkIjoxMjN9',
        testmode: false,
        onAdLoaded: function(element) {
          console.log('Audience Network [2354122411472512_2484913318393420] ad loaded');element.style.display = 'block';
        },
        onAdError: function(errorCode, errorMessage) {
          console.log('Audience Network [2354122411472512_2484913318393420] error (' + errorCode + ') ' + errorMessage);
        }
      });
    </script>
  </div>

  <br>

  <h5>Test 4</h5>
  <div style="display:none; position: relative;">
    <script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw60-tag.js" async></script>
    <script type="text/javascript">
      window.ADNW = window.ADNW || {};
      window.ADNW.v60 = window.ADNW.v60 || {};
      window.ADNW.v60.slots = window.ADNW.v60.slots || [];
      window.ADNW.v60.slots.push({
        rootElement: document.currentScript.parentElement,
        placementid: '2354122411472512_2484913318393420',
        format: '300x250',
        bidid: '4075175524678522801',
        bidtimetoken: 'V1_eyJwbGF0Zm9ybV9pZCI6MjA2MTE4NTI0MDc4NTUxNiwib3J0Yl9hdWN0aW9uX2lkIjoiWlU2Tzh3dlJjdXF5UlY0S3dTMkRwdTNqMCIsImJpZF9zb3VyY2UiOjEwLCJjbHVzdGVyX2lkIjoxMjN9',
        testmode: false,
        onAdLoaded: function(element) {
          console.log('Audience Network [2354122411472512_2484913318393420] ad loaded');element.style.display = 'block';
        },
        onAdError: function(errorCode, errorMessage) {
          console.log('Audience Network [2354122411472512_2484913318393420] error (' + errorCode + ') ' + errorMessage);
        }
      });
    </script>
  </div>

  <br>

  <h5>Test 5</h5>
  <div style="display:none; position: relative;">
    <script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw60-tag.js" async></script>
    <script type="text/javascript">
      window.ADNW = window.ADNW || {};
      window.ADNW.v60 = window.ADNW.v60 || {};
      window.ADNW.v60.slots = window.ADNW.v60.slots || [];
      window.ADNW.v60.slots.push({
        rootElement: document.currentScript.parentElement,
        placementid: '2354122411472512_2484913318393420',
        format: '300x250',
        bidid: '1764030281264846769',
        bidtimetoken: 'V1_eyJwbGF0Zm9ybV9pZCI6MjA2MTE4NTI0MDc4NTUxNiwib3J0Yl9hdWN0aW9uX2lkIjoiWlU2Tzh3dlJjdXF5UlY0S3dTMkRwdTNqMCIsImJpZF9zb3VyY2UiOjEwLCJjbHVzdGVyX2lkIjoxMjN9',
        testmode: false,
        onAdLoaded: function(element) {
          console.log('Audience Network [2354122411472512_2484913318393420] ad loaded');element.style.display = 'block';
        },
        onAdError: function(errorCode, errorMessage) {
          console.log('Audience Network [2354122411472512_2484913318393420] error (' + errorCode + ') ' + errorMessage);
        }
      });
    </script>
  </div>

  <br>

  <h5>Test 6</h5>
  <div style="display:none; position: relative;">
    <script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw60-tag.js" async></script>
    <script type="text/javascript">
      window.ADNW = window.ADNW || {};
      window.ADNW.v60 = window.ADNW.v60 || {};
      window.ADNW.v60.slots = window.ADNW.v60.slots || [];
      window.ADNW.v60.slots.push({
        rootElement: document.currentScript.parentElement,
        placementid: '2354122411472512_2484913318393420',
        format: '300x250',
        bidid: '588887453240678321',
        bidtimetoken: 'V1_eyJwbGF0Zm9ybV9pZCI6MjA2MTE4NTI0MDc4NTUxNiwib3J0Yl9hdWN0aW9uX2lkIjoiWlU2Tzh3dlJjdXF5UlY0S3dTMkRwdTNqMCIsImJpZF9zb3VyY2UiOjEwLCJjbHVzdGVyX2lkIjoxMjN9',
        testmode: false,
        onAdLoaded: function(element) {
          console.log('Audience Network [2354122411472512_2484913318393420] ad loaded');element.style.display = 'block';
        },
        onAdError: function(errorCode, errorMessage) {
          console.log('Audience Network [2354122411472512_2484913318393420] error (' + errorCode + ') ' + errorMessage);
        }
      });
    </script>
  </div>

  <br>

  <h5>Test 7</h5>
  <div style="display:none; position: relative;">
    <script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw60-tag.js" async></script>
    <script type="text/javascript">
      window.ADNW = window.ADNW || {};
      window.ADNW.v60 = window.ADNW.v60 || {};
      window.ADNW.v60.slots = window.ADNW.v60.slots || [];
      window.ADNW.v60.slots.push({
        rootElement: document.currentScript.parentElement,
        placementid: '2354122411472512_2484913318393420',
        format: '300x250',
        bidid: '9025612596684806065',
        bidtimetoken: 'V1_eyJwbGF0Zm9ybV9pZCI6MjA2MTE4NTI0MDc4NTUxNiwib3J0Yl9hdWN0aW9uX2lkIjoiWlU2Tzh3dlJjdXF5UlY0S3dTMkRwdTNqMCIsImJpZF9zb3VyY2UiOjEwLCJjbHVzdGVyX2lkIjoxMjN9',
        testmode: false,
        onAdLoaded: function(element) {
          console.log('Audience Network [2354122411472512_2484913318393420] ad loaded');element.style.display = 'block';
        },
        onAdError: function(errorCode, errorMessage) {
          console.log('Audience Network [2354122411472512_2484913318393420] error (' + errorCode + ') ' + errorMessage);
        }
      });
    </script>
  </div>

  <br>

  <h5>Test 8</h5>
  <div style="display:none; position: relative;">
    <script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw60-tag.js" async></script>
    <script type="text/javascript">
      window.ADNW = window.ADNW || {};
      window.ADNW.v60 = window.ADNW.v60 || {};
      window.ADNW.v60.slots = window.ADNW.v60.slots || [];
      window.ADNW.v60.slots.push({
        rootElement: document.currentScript.parentElement,
        placementid: '2354122411472512_2484913318393420',
        format: '300x250',
        bidid: '7379219237106276273',
        bidtimetoken: 'V1_eyJwbGF0Zm9ybV9pZCI6MjA2MTE4NTI0MDc4NTUxNiwib3J0Yl9hdWN0aW9uX2lkIjoiWlU2Tzh3dlJjdXF5UlY0S3dTMkRwdTNqMCIsImJpZF9zb3VyY2UiOjEwLCJjbHVzdGVyX2lkIjoxMjN9',
        testmode: false,
        onAdLoaded: function(element) {
          console.log('Audience Network [2354122411472512_2484913318393420] ad loaded');element.style.display = 'block';
        },
        onAdError: function(errorCode, errorMessage) {
          console.log('Audience Network [2354122411472512_2484913318393420] error (' + errorCode + ') ' + errorMessage);
        }
      });
    </script>
  </div>

  <br>

  <h5>Test 9</h5>
  <div style="display:none; position: relative;">
    <script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw60-tag.js" async></script>
    <script type="text/javascript">
      window.ADNW = window.ADNW || {};
      window.ADNW.v60 = window.ADNW.v60 || {};
      window.ADNW.v60.slots = window.ADNW.v60.slots || [];
      window.ADNW.v60.slots.push({
        rootElement: document.currentScript.parentElement,
        placementid: '2354122411472512_2484913318393420',
        format: '300x250',
        bidid: '5822635779227146161',
        bidtimetoken: 'V1_eyJwbGF0Zm9ybV9pZCI6MjA2MTE4NTI0MDc4NTUxNiwib3J0Yl9hdWN0aW9uX2lkIjoiWlU2Tzh3dlJjdXF5UlY0S3dTMkRwdTNqMCIsImJpZF9zb3VyY2UiOjEwLCJjbHVzdGVyX2lkIjoxMjN9',
        testmode: false,
        onAdLoaded: function(element) {
          console.log('Audience Network [2354122411472512_2484913318393420] ad loaded');element.style.display = 'block';
        },
        onAdError: function(errorCode, errorMessage) {
          console.log('Audience Network [2354122411472512_2484913318393420] error (' + errorCode + ') ' + errorMessage);
        }
      });
    </script>
  </div>

  <br>

  <h5>Test 10</h5>
  <div style="display:none; position: relative;">
    <script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw60-tag.js" async></script>
    <script type="text/javascript">
      window.ADNW = window.ADNW || {};
      window.ADNW.v60 = window.ADNW.v60 || {};
      window.ADNW.v60.slots = window.ADNW.v60.slots || [];
      window.ADNW.v60.slots.push({
        rootElement: document.currentScript.parentElement,
        placementid: '2354122411472512_2484913318393420',
        format: '300x250',
        bidid: '4796720605154858929',
        bidtimetoken: 'V1_eyJwbGF0Zm9ybV9pZCI6MjA2MTE4NTI0MDc4NTUxNiwib3J0Yl9hdWN0aW9uX2lkIjoiWlU2Tzh3dlJjdXF5UlY0S3dTMkRwdTNqMCIsImJpZF9zb3VyY2UiOjEwLCJjbHVzdGVyX2lkIjoxMjN9',
        testmode: false,
        onAdLoaded: function(element) {
          console.log('Audience Network [2354122411472512_2484913318393420] ad loaded');element.style.display = 'block';
        },
        onAdError: function(errorCode, errorMessage) {
          console.log('Audience Network [2354122411472512_2484913318393420] error (' + errorCode + ') ' + errorMessage);
        }
      });
    </script>
  </div>
</body>
</html>
