<!DOCTYPE html>
<html>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-148817028-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-148817028-1');
    </script>

    <script data-ad-client="ca-pub-7722272738840072" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <link rel="icon" type="image/png" href="/favicon.png">
    <script async src="//www.googletagservices.com/tag/js/gpt.js"></script>
    <script async src="prebid.js"></script>
    <script>
        var PREBID_TIMEOUT = 1000;
        var FAILSAFE_TIMEOUT = 3000;

        var adUnits = [{
            code: 'div-gpt-ad-1',
            sizes: [[300, 250]],
            bids: [{
                bidder: 'audienceNetwork',
                params: {
                   placementId: '2354122411472512_2448966658654753'
                }
            }]
        },{
            code: 'div-gpt-ad-2',
            sizes: [[300, 250]],
            bids: [{
                bidder: 'audienceNetwork',
                params: {
                   placementId: '2354122411472512_2448966658654753',
                }
            }]
        }];

        var pbjs = pbjs || {};
        pbjs.que = pbjs.que || [];

        var googletag = googletag || {};
        googletag.cmd = googletag.cmd || [];

        pbjs.bidderSettings = {
          standard: {
            adserverTargeting: [
              {
                key: "hb_bidder",
                val: function (bidResponse) {
                    return bidResponse.bidderCode;
                }
              },
              {
                key: "hb_adid",
                val: function (bidResponse) {
                    return bidResponse.adId;
                }
              },
              {
                key: "hb_pb",
                val: function (bidResponse) {
                    return '20.00';
                }
              }
            ]
          }
        };

        googletag.cmd.push(function() {
            googletag.pubads().disableInitialLoad();
        });

        pbjs.que.push(function() {
            pbjs.addAdUnits(adUnits);
            pbjs.requestBids({
                bidsBackHandler: initAdserver,
                timeout: PREBID_TIMEOUT
            });
        });

        function initAdserver() {
            if (pbjs.initAdserverSet) return;
            pbjs.initAdserverSet = true;
            googletag.cmd.push(function() {
                pbjs.que.push(function() {
                    pbjs.setTargetingForGPTAsync();
                    googletag.pubads().refresh();
                });
            });
        }

        // in case PBJS doesn't load
        setTimeout(function() {
            initAdserver();
        }, FAILSAFE_TIMEOUT);

        googletag.cmd.push(function() {
            googletag.defineSlot('div-gpt-ad-1', [[300, 250]], 'div-1').addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
        googletag.cmd.push(function() {
            googletag.defineSlot('div-gpt-ad-1', [[300, 250]], 'div-2').addService(googletag.pubads());
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });

    </script>
  </head>

  <body>
    <h1>Medium Rectangle Direct Call</h1>
    <div style="display:none;">
      <script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw60-tag.js" async></script>
      <script type="text/javascript">
        window.ADNW = window.ADNW || {};
        window.ADNW.v60 = window.ADNW.v60 || {};
        window.ADNW.v60.slots = window.ADNW.v60.slots || [];
        window.ADNW.v60.slots.push({
          rootElement: document.currentScript.parentElement,
          placementid: '2354122411472512_2448966658654753',
          format: '300x250',
          testmode: false,
          onAdLoaded: function(rootElement) {
            console.log('Audience Network ad loaded');
            rootElement.style.display = 'block';
          },
          onAdError: function(errorCode, errorMessage) {
            console.log('Audience Network error (' + errorCode + ') ' + errorMessage);
            [PASSBACK_CODE]
          }
        });
      </script>
    </div>

    <!-- *********** -->
    <br><br><br>

    <h4>- Slot 1 - 300x250 -</h4>
    <div id='div-1' style='height:250px; width:300px;'>
      <script>
        googletag.cmd.push(function() {
          googletag.display('div-1');
        });
      </script>
    </div>

    <h4>- Slot 2 - 300x250 -</h4>
    <div id='div-2' style='height:250px; width:300px;'>
      <script>
        googletag.cmd.push(function() {
          googletag.display('div-2');
        });
      </script>
    </div>

  </body>
</html>
